<div class="stamp-detail-container">
    <!-- Back button -->
    <div class="mb-3">
        <button class="btn btn-outline-secondary" 
                hx-get="/views/stamps/gallery" 
                hx-target="#stamp-view-content"
                hx-swap="innerHTML">
            <i class="bi bi-arrow-left"></i> Back to Collection
        </button>
    </div>

    <div class="row">
        <!-- Image Column -->
        <div class="col-lg-5 col-md-6 mb-4">
            <div class="stamp-detail-image-container">
                {{if and .ImageURL (ne (deref .ImageURL) "")}}
                    <img src="{{deref .ImageURL}}" 
                         alt="{{.Name}}" 
                         class="stamp-detail-img"
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="stamp-detail-placeholder" style="display: none;">
                        <i class="bi bi-image" style="font-size: 3rem; opacity: 0.3;"></i>
                        <p class="text-muted mt-2">Image not available</p>
                    </div>
                {{else}}
                    <div class="stamp-detail-placeholder">
                        <i class="bi bi-image" style="font-size: 3rem; opacity: 0.3;"></i>
                        <p class="text-muted mt-2">Image not available</p>
                    </div>
                {{end}}
            </div>
        </div>

        <!-- Details Column -->
        <div class="col-lg-7 col-md-6">
            <div class="stamp-detail-info">
                <!-- Header -->
                <div class="stamp-detail-header mb-4">
                    <h1 class="stamp-detail-title">{{.Name}}</h1>
                    {{if .ScottNumber}}
                    <p class="stamp-detail-scott">Scott #{{deref .ScottNumber}}</p>
                    {{end}}
                </div>

                <!-- Stamp Information Grid -->
                <div class="stamp-info-grid">
                    {{if .IssueDate}}
                    <div class="info-item">
                        <label class="info-label">Issue Date</label>
                        <span class="info-value">{{deref .IssueDate}}</span>
                    </div>
                    {{end}}

                    {{if .Series}}
                    <div class="info-item">
                        <label class="info-label">Series</label>
                        <span class="info-value">{{deref .Series}}</span>
                    </div>
                    {{end}}

                    {{if .Condition}}
                    <div class="info-item">
                        <label class="info-label">Condition</label>
                        <span class="info-value">{{deref .Condition}}</span>
                    </div>
                    {{end}}

                    <div class="info-item">
                        <label class="info-label">Quantity</label>
                        <span class="info-value">{{.Quantity}}</span>
                    </div>

                    <div class="info-item">
                        <label class="info-label">Status</label>
                        <span class="info-value">
                            {{if .IsOwned}}
                                <span class="badge bg-success">Owned</span>
                            {{else}}
                                <span class="badge bg-warning text-dark">Needed</span>
                            {{end}}
                        </span>
                    </div>

                    {{if .BoxName}}
                    <div class="info-item">
                        <label class="info-label">Storage Box</label>
                        <span class="info-value">{{deref .BoxName}}</span>
                    </div>
                    {{end}}
                </div>

                <!-- Tags Section -->
                {{if .Tags}}
                <div class="stamp-tags-section mt-4">
                    <label class="info-label">Tags</label>
                    <div class="stamp-tags-display">
                        {{range .Tags}}
                        <span class="tag-pill">{{.}}</span>
                        {{end}}
                    </div>
                </div>
                {{end}}

                <!-- Notes Section -->
                {{if .Notes}}
                <div class="stamp-notes-section mt-4">
                    <label class="info-label">Notes</label>
                    <div class="stamp-notes-display">
                        {{deref .Notes}}
                    </div>
                </div>
                {{end}}

                <!-- Metadata -->
                <div class="stamp-metadata mt-4 pt-3 border-top">
                    <small class="text-muted">
                        Added {{.DateAdded.Format "Jan 2, 2006"}}
                        {{$isModified := ne .DateModified.Unix .DateAdded.Unix}}
                        {{if $isModified}}
                        â€¢ Modified {{.DateModified.Format "Jan 2, 2006"}}
                        {{end}}
                    </small>
                </div>

                <!-- Action Buttons -->
                <div class="stamp-actions mt-4">
                    <button class="btn btn-edit" id="edit-stamp-btn">
                        <i class="bi bi-pencil"></i> Edit Stamp
                    </button>
                    <button class="btn btn-delete" id="delete-stamp-btn">
                        <i class="bi bi-trash"></i> Delete Stamp
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>