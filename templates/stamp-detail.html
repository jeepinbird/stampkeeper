<div class="stamp-detail-container">
    <!-- Hidden file input for image uploads -->
    <input type="file" 
           id="imageUpload" 
           accept="image/*" 
           style="display: none;" 
           onchange="handleImageUpload('{{.Stamp.ID}}', this)">
    
    <!-- Back button -->
    <div class="mb-3">
        <button class="btn btn-outline-secondary" 
                hx-get="/views/stamps/gallery" 
                hx-target="#stamp-view-content"
                hx-swap="innerHTML">
            <i class="bi bi-arrow-left"></i> Back to Collection
        </button>
    </div>

    <div class="row">
        <!-- Image Column -->
        <div class="col-lg-5 col-md-6 mb-4">
            {{template "stamp-image-section" .}}
        </div>

        <!-- Details Column -->
        <div class="col-lg-7 col-md-6">
            {{template "stamp-details-section" .}}
        </div>
    </div>

    <!-- Your Copies Section (Full Width) -->
    <div class="row mt-4">
        <div class="col-12">
            {{template "your-copies-section" .}}
        </div>
    </div>

    <!-- Notes Section (Full Width) -->
    <div class="row mt-4">
        <div class="col-12">
            {{template "stamp-notes-section" .}}
        </div>
    </div>

    <!-- Metadata -->
    <div class="stamp-metadata mt-4 pt-3 border-top">
        <small class="text-muted">
            Added {{.Stamp.DateAdded.Format "Jan 2, 2006"}}
            {{$isModified := ne .Stamp.DateModified.Unix .Stamp.DateAdded.Unix}}
            {{if $isModified}}
            â€¢ Modified {{.Stamp.DateModified.Format "Jan 2, 2006"}}
            {{end}}
        </small>
    </div>

    <!-- Action Buttons -->
    <div class="stamp-actions mt-4">
        <button class="btn btn-delete" onclick="deleteStamp('{{.Stamp.ID}}')">
            <i class="bi bi-trash"></i> Delete Stamp
        </button>
    </div>
</div>

<script id="all-boxes-data" type="application/json">
    {{json .AllBoxes}}
</script>

<script src="/static/js/stamp-detail.js"></script>
<script src="/static/js/stamp-instance.js"></script>